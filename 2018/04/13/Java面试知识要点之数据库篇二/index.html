<!DOCTYPE html><html lang="zh-CN"><head><meta name="google-site-verification" content="PR6S72-htn-N1oDn9ENMcwi5niLKk0uebDzmRS-oivs"><meta property="wb:webmaster" content="320520520031fedd"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="好好学习，努力搬砖，天天吃草"><title>Java面试知识要点之数据库篇二 | 一灰灰Blog</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/hexblog/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/hexblog/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/hexblog/favicon.ico"><link rel="bookmark" href="/hexblog/favicon.ico"><link rel="apple-touch-icon" href="/hexblog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/hexblog/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Java面试知识要点之数据库篇二</h1><a id="logo" href="/hexblog/.">一灰灰Blog</a><p style="font-size:18px" class="description">一灰灰的个人博客网站</p></div><div id="nav-menu"><a href="/hexblog/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/hexblog/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/hexblog/about/"><i class="fa fa-user"> 关于</i></a><a href="http://liuyueyi.gitee.io/zweb/#/index"><i class="fa fa-rss"> 网站</i></a><a href="http://liuyueyi.gitee.io/mweb/#/"><i class="fa fa-you"> 古诗选</i></a><hr><br><div id="nav-sub-menu"><a href="/hexblog/categories/技术"><i class="fa fa-right"> 技术</i></a><a href="/hexblog/categories/工作"><i class="fa fa-right"> 工作</i></a><a href="/hexblog/categories/生活"><i class="fa fa-right"> 生活</i></a><a href="/hexblog/categories/杂记"><i class="fa fa-right"> 杂记</i></a></div></div>
<div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/hexblog/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Java面试知识要点之数据库篇二 <span style="font-size:14px;color:#40759b;font-style:italic;border-bottom: 1px solid #e5e5e5;">&gt;&gt;&gt; by 一灰灰Blog</span></h1><div class="post-meta"><a href="/hexblog/2018/04/13/Java面试知识要点之数据库篇二/#saveImg" class="saveImg-icon"></a><a href="/hexblog/2018/04/13/Java面试知识要点之数据库篇二/#comments" class="comment-count"></a><p><span class="date">Apr 13, 2018</span><span><a href="/hexblog/categories/工作/" class="category">工作</a><a href="/hexblog/categories/工作/面试/" class="category">面试</a><a href="/hexblog/categories/工作/面试/DB/" class="category">DB</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h1 id="Java知识要点汇总之数据库"><a href="#Java知识要点汇总之数据库" class="headerlink" title="Java知识要点汇总之数据库"></a>Java知识要点汇总之数据库</h1><p>针对网上的一些题目，根据自己的理解进行作答，从而加深理解</p>
<h2 id="I-问题列表"><a href="#I-问题列表" class="headerlink" title="I. 问题列表"></a>I. 问题列表</h2><ul>
<li>常见的数据库优化手段</li>
<li>索引的优缺点，什么字段上建立索引</li>
<li>数据库连接池。</li>
<li>durid的常用配置。</li>
<li>MySQL 索引使用的注意事项</li>
<li>说说反模式设计</li>
<li>说说分库与分表设计</li>
<li>分库与分表带来的分布式困境与应对之策</li>
<li>说说 SQL 优化之道</li>
<li>MySQL 遇到的死锁问题</li>
<li>存储引擎的 InnoDB 与 MyISAM</li>
<li>数据库索引的原理</li>
<li>为什么要用 B-tree</li>
<li>聚集索引与非聚集索引的区别</li>
<li>limit 20000 加载很慢怎么解决</li>
<li>选择合适的分布式主键方案</li>
<li>选择合适的数据存储方案</li>
<li>ObjectId 规则</li>
<li>聊聊 MongoDB 使用场景</li>
<li>倒排索引</li>
<li>聊聊 ElasticSearch 使用场景</li>
</ul>
<h2 id="II-问题解答"><a href="#II-问题解答" class="headerlink" title="II. 问题解答"></a>II. 问题解答</h2><h3 id="1-常见的数据库优化手段"><a href="#1-常见的数据库优化手段" class="headerlink" title="1. 常见的数据库优化手段"></a>1. 常见的数据库优化手段</h3><p>一般优化手段需要结合实际的case来进行分析，大致的类型有以下几点：</p>
<ul>
<li>数据量过大，千万级、亿级，可以考虑分库分表（有水平分库分表和垂直分库分表两种常见方式，后面详细说明）</li>
<li>减少跨表查询，一般来讲单表查询优化多表的联合查询，可以根据实际情况考虑是否可以将多表查询改成在主业务表中冗余一些数据，从而变成单表查询</li>
<li>由于写DB会加锁，因此可以考虑读写分离</li>
<li>搭建数据库的集群，一主多从的方式</li>
<li>借助explain，判断sql是否走索引，考虑在常见的查询条件中，建立必要的索引or联合索引</li>
<li>避免大翻页查询，注意 <code>limit 1000, 20</code> 实际会查找出1020条数据，但只返回最后的20条数据，看是否记录id偏移量，来避免大翻页</li>
<li>尽量避免排序，特别是没有建立索引的排序，多个字段联合排序，都比较消耗性能</li>
<li>避免出现全表扫描的sql</li>
<li>减少物理删除数据，改成逻辑删除（因为数据删除会涉及到索引变更，而且数据一般而言都是有价值的，物理删除后都没法恢复）</li>
</ul>
<hr>
<p>下面的节点来自网上分析结果: <a href="https://www.cnblogs.com/zhyunfe/p/6209074.html" target="_blank" rel="noopener">MySQL数据库优化的八种方式(经典必看)</a></p>
<ul>
<li>选取合适的字段属性 (如char的性能由于varchar，对于性别这种就可以用char(1)来指定)</li>
<li>使用join代替子查询</li>
<li>使用联合(UNION)来代替手动创建的临时表</li>
<li>事务</li>
<li>锁表（对此存有疑问，不太理解这种方式有什么好处）</li>
<li>使用外键</li>
<li>使用索引</li>
<li>优化sql</li>
</ul>
<hr>
<h3 id="2-索引的优缺点，什么字段上建立索引"><a href="#2-索引的优缺点，什么字段上建立索引" class="headerlink" title="2. 索引的优缺点，什么字段上建立索引"></a>2. 索引的优缺点，什么字段上建立索引</h3><p>索引，实际上是一种数据结构，为了加快查询定位，比如MySQL的InnoDB中索引就是B+树</p>
<h4 id="a-优点"><a href="#a-优点" class="headerlink" title="a. 优点"></a>a. 优点</h4><ul>
<li>索引查询可以避免全表扫描，查询效率更高</li>
</ul>
<h4 id="b-缺点"><a href="#b-缺点" class="headerlink" title="b. 缺点"></a>b. 缺点</h4><ul>
<li>删除、插入和修改数据时，需要建立索引，因此更慢</li>
<li>额外的空间开销，用于存储索引信息</li>
</ul>
<h4 id="c-场景"><a href="#c-场景" class="headerlink" title="c. 场景"></a>c. 场景</h4><ul>
<li>数据量较大时，建立索引更优（几千条数据的场景下，全表扫描可能更优）</li>
<li>针对查询场景，根据最常见的查询条件列建立索引或者联合索引</li>
<li>联合索引中，最具有区分的字段放在前面</li>
</ul>
<h4 id="d-字段规则"><a href="#d-字段规则" class="headerlink" title="d. 字段规则"></a>d. 字段规则</h4><p>此处来自: <a href="https://blog.csdn.net/miracleww/article/details/53352738" target="_blank" rel="noopener">数据库索引的优缺点及原理</a></p>
<ul>
<li>越小的数据类型通常更好：越小的数据类型通常在磁盘、内存中都需要更少的空间，处理起来更快</li>
<li>简单的数据类型更好：整型数据比起字符，处理开销更小，因为字符串的比较更复杂，处理起来也更耗时。</li>
<li>尽量避免NULL：应该指定列为NOT NULL</li>
<li>对非唯一的字段，例如“性别”这种大量重复值的字段，增加索引也没有什么意义，所以索引的建立应当更多的选取唯一性更高的字段 （说明，对此持不同的看法，性别这种放在联合索引中还是有意义的，大量数据中，直接排除一半还是有效的）</li>
</ul>
<h3 id="3-数据库连接池。"><a href="#3-数据库连接池。" class="headerlink" title="3. 数据库连接池。"></a>3. 数据库连接池。</h3><p>在正常的jdbc过程中，一个sql的执行过程大致如下：</p>
<ul>
<li>装载驱动</li>
<li>建立db连接，获取会话</li>
<li>执行sql</li>
<li>关闭会话连接</li>
</ul>
<p>也就是说在db的操作中，会出现频繁的db连接和销毁，对性能有很大影响；因此数据库连接池和线程池出现的目的一样，都是为了避免频繁的创建和销毁，以实现最大程度的复用为目的的技术手段</p>
<p><strong>数据库连接池</strong></p>
<p>在连接池中提前创建好一些连接，当需要执行sql时，从连接池中获取一个连接执行sql，执行完毕之后，将连接扔回连接池，以此实现复用</p>
<ul>
<li>连接池无可用连接时（即所有连接都被其他线程持有了）：可以考虑排队策略，或者直接自己去创建一个，根据不同的数据库连接池设计规则来玩</li>
<li>很多连接长时间处于空闲时（即连接数大于实际请求数）：可以考虑给个生命周期的概念，超过一段时间的连接，自动回收掉</li>
</ul>
<p><strong>注意事项</strong></p>
<ul>
<li>并发问题</li>
<li>权限问题（如某些库只有满足某些场景才能查询等）</li>
<li>事务支持</li>
<li>合理的分配与释放，提高连接的复用度，从而降低建立新连接的开销，同时还可以加快用户的访问速度。</li>
</ul>
<h3 id="4-durid的常用配置。"><a href="#4-durid的常用配置。" class="headerlink" title="4. durid的常用配置。"></a>4. durid的常用配置。</h3><p>没用过，公司有一套自己的数据库中间件，个人感觉来讲，需要关系的配置应该差不多</p>
<p>数据库相关信息：</p>
<ul>
<li>驱动</li>
<li>jdbcurl</li>
<li>用户名</li>
<li>密码</li>
</ul>
<p>其他信息：</p>
<ul>
<li>连接池连接核心数</li>
<li>连接池连接最大数</li>
<li>连接池队列大小</li>
<li>心跳检测（用于判断连接是否ok）</li>
<li>最大活跃连接数</li>
</ul>
<h3 id="5-MySQL-索引使用的注意事项"><a href="#5-MySQL-索引使用的注意事项" class="headerlink" title="5. MySQL 索引使用的注意事项"></a>5. MySQL 索引使用的注意事项</h3><p>推荐参考：<a href="https://liuyueyi.github.io/hexblog/2018/03/22/mysql%E4%B9%8B%E7%B4%A2%E5%BC%95%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/" target="_blank" rel="noopener">mysql之索引的工作机制</a></p>
<p>说注意事项，就得先了解下索引的特性，不按照特性来的肯定是需要注意的了…</p>
<ul>
<li>索引不包含null值的列（因此db中尽量不要允许列为null，优雅的原则是所有字段强制为not null，并加一个 default ‘’ 默认值）</li>
<li>短索引</li>
<li>最左匹配原则，即联合索引中，如果最左边的列不在sql的查询条件中，则不会走索引</li>
<li>范围查询后不走索引，针对联合索引而言，如果前面匹配的，有范围查询，则联合索引后面匹配的列将不会走索引<ul>
<li>如 <code>select * from table where id&gt;100 and uname=&#39;haha&#39;</code>, 联合索引为 <code>(id, uname)</code>, 则这个语句中，uname这个条件不会走索引</li>
</ul>
</li>
<li>列作为函数参数或表达式的一部分时，也不走索引<ul>
<li>常见的是 <code>select * from table where id+1&gt;50</code> 这个就不能走索引了</li>
</ul>
</li>
</ul>
<h3 id="6-说说反模式设计"><a href="#6-说说反模式设计" class="headerlink" title="6. 说说反模式设计"></a>6. 说说反模式设计</h3><p>这个主要针对三范式而言，既然有个反字，也就说，在某些场景下，不遵循三范式可能带来较好的优势</p>
<h4 id="a-三范式"><a href="#a-三范式" class="headerlink" title="a. 三范式"></a>a. 三范式</h4><p>根据个人理解的定义如下</p>
<ul>
<li>第一范式： 原子性，每个列都是不可分割的最小单元</li>
<li>第二范式： 所有的列都与主键有关系</li>
<li>第三范式： 所有的列与主键直接关联</li>
</ul>
<h4 id="b-反模式"><a href="#b-反模式" class="headerlink" title="b. 反模式"></a>b. 反模式</h4><p>如我前面一篇举得几个例子，就属于反模式</p>
<ul>
<li>某些场景下，冗余一些其他表的信息，实现将多表联合查询变成单表查询，提高性能</li>
<li>新增一个extra字段，用来存储一些非必要的元数据集合，可以更好的支撑复杂的业务场景，避免频繁的新增列</li>
<li>表中创建一个自增的无业务含义的伪主键，和业务主键区分开来（在分库分表中比较常见）</li>
</ul>
<h3 id="7-说说分库与分表设计"><a href="#7-说说分库与分表设计" class="headerlink" title="7. 说说分库与分表设计"></a>7. 说说分库与分表设计</h3><p>根据自己之前的实际操作，写了一篇分库分表的实操博文：<a href="https://liuyueyi.github.io/hexblog/2018/04/13/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8%E7%9A%84%E5%AE%9E%E9%99%85%E6%93%8D%E4%BD%9C%E5%85%A8%E8%AE%B0%E5%BD%95/" target="_blank" rel="noopener">生产环境分库分表的实际操作全记录</a></p>
<p>小结以下我的理解：</p>
<ul>
<li>根据业务逻辑，设置自己逻辑分离的库</li>
<li>分表主要是实现大表拆分为小表</li>
<li>分表时需要一个分表的主键，用于路由到指定的分表</li>
</ul>
<h3 id="8-分库与分表带来的分布式困境与应对之策"><a href="#8-分库与分表带来的分布式困境与应对之策" class="headerlink" title="8. 分库与分表带来的分布式困境与应对之策"></a>8. 分库与分表带来的分布式困境与应对之策</h3><ul>
<li>全局唯一业务主键<ul>
<li>单独搞一个服务，来生成全局唯一主键</li>
<li>根据机器mac地址+时间戳来生成唯一主键</li>
</ul>
</li>
<li>分布式事务<ul>
<li>没什么太好的方法，可以通过数据对账和订正来避免问题的严重性</li>
</ul>
</li>
<li>复杂查询（如跨表，分页，排序等）<ul>
<li>尽量减少跨表查询</li>
<li>避不开时，借助搜索引擎来做（如solr，es）</li>
</ul>
</li>
</ul>
<h3 id="9-说说-SQL-优化之道"><a href="#9-说说-SQL-优化之道" class="headerlink" title="9. 说说 SQL 优化之道"></a>9. 说说 SQL 优化之道</h3><p>详情可以参考： <a href="http://www.cnblogs.com/yunfeifei/p/3850440.html" target="_blank" rel="noopener">数据库SQL优化大总结之 百万级数据库优化方案</a></p>
<p>这种问题。。。挺难说的，简单说一下常见的吧</p>
<ul>
<li>explain查看是否走索引，尽量确保sql可以利用索引</li>
<li>查询条件中，左边不要有计算，如  <code>where id+1&gt; 10</code> </li>
<li>使用 <code>&gt;=</code> 代替 <code>&gt;</code></li>
<li>避免大翻页查询，尽量将 <code>limit a,b</code> 改成 <code>where id&gt;xxx limit b</code></li>
<li>尽量避免多个列的排序</li>
<li>union all 代替union，业务中进行去重</li>
<li>join代替子查询，避免临时表创建</li>
<li>列尽量不要允许为null</li>
<li>逻辑删除代替物理删除</li>
<li>连续存在的值，between代替 in</li>
<li>尽量不要出现 <code>select *</code>, 改成查具体的列</li>
</ul>
<h3 id="10-MySQL-遇到的死锁问题"><a href="#10-MySQL-遇到的死锁问题" class="headerlink" title="10. MySQL 遇到的死锁问题"></a>10. MySQL 遇到的死锁问题</h3><p>没实际接触过，举个小例子</p>
<p>事务1</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">1</span> <span class="keyword">for</span> <span class="keyword">update</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">2</span> <span class="keyword">for</span> <span class="keyword">update</span>;</span><br></pre></td></tr></table></figure>
<p>事务2</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">2</span> <span class="keyword">for</span> <span class="keyword">update</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">1</span> <span class="keyword">for</span> <span class="keyword">update</span>;</span><br></pre></td></tr></table></figure>
<p>事务1的sql1执行完毕，事务2的sql1执行完毕，都在等待执行sql2时</p>
<p>因为事务2要求获取id=2这一列的独占锁，而锁此时由事务2持有，所以阻塞等待；同样事务2请求id=1这一列的独占锁，被事务1持有，也阻塞等待</p>
<p>导致出现死锁</p>
<h3 id="11-存储引擎的-InnoDB-与-MyISAM"><a href="#11-存储引擎的-InnoDB-与-MyISAM" class="headerlink" title="11. 存储引擎的 InnoDB 与 MyISAM"></a>11. 存储引擎的 InnoDB 与 MyISAM</h3><p>参考前一篇，两者都是B+树</p>
<table>
<thead>
<tr>
<th>InnoDB</th>
<th>MyISAM </th>
</tr>
</thead>
<tbody>
<tr>
<td>单文件，有限制</td>
<td>三文件，无大小限制</td>
</tr>
<tr>
<td>支持事务</td>
<td>不支持事务</td>
</tr>
<tr>
<td>支持行锁表锁</td>
<td>只支持表锁</td>
</tr>
<tr>
<td>需要更多存储空间</td>
<td>可压缩</td>
</tr>
<tr>
<td>主键，要么显示指定，要么默认一个</td>
<td>可以么有</td>
</tr>
<tr>
<td>支持外键</td>
<td>不支持外键</td>
</tr>
<tr>
<td>移植不易，可用binlog，sqldump</td>
<td>移植方便，拷贝文件即可</td>
</tr>
</tbody>
</table>
<h3 id="12-数据库索引的原理"><a href="#12-数据库索引的原理" class="headerlink" title="12. 数据库索引的原理"></a>12. 数据库索引的原理</h3><p>索引是一种数据结构，可以通过它，较快的定位到数据所在的位置，关于索引可以参考下面两个博文</p>
<ul>
<li><a href="https://www.cnblogs.com/wuchanming/p/6886020.html" target="_blank" rel="noopener">数据库索引原理及优化</a></li>
<li><a href="https://liuyueyi.github.io/hexblog/2018/03/22/mysql%E4%B9%8B%E7%B4%A2%E5%BC%95%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/" target="_blank" rel="noopener">mysql之索引的工作机制</a></li>
</ul>
<p>简单说明，常见的两种索引数据结构，hash和b树</p>
<p>hash索引：</p>
<ul>
<li>通过hash值，可以迅速定位到数据所在的位置，然后直接过去查找</li>
</ul>
<p>B树：</p>
<ul>
<li>树的遍历姿势，查找到数据所在的位置（innodb的聚集索引叶子节点包含数据）</li>
</ul>
<h3 id="13-为什么要用-B-tree"><a href="#13-为什么要用-B-tree" class="headerlink" title="13. 为什么要用 B-tree"></a>13. 为什么要用 B-tree</h3><p>二叉树，logN的查找效率</p>
<h3 id="14-聚集索引与非聚集索引的区别"><a href="#14-聚集索引与非聚集索引的区别" class="headerlink" title="14. 聚集索引与非聚集索引的区别"></a>14. 聚集索引与非聚集索引的区别</h3><p>以InnoDB为例进行说明，聚集索引一般也就是主键索引，叶子节点为实际的数据，且叶子节点之间组成一个双向链表</p>
<p>非聚集索引，更多的普通的索引或唯一索引，也是B树，叶子节点为主键，会通过主键再去聚集索引中查询对应的数据</p>
<h3 id="15-limit-20000-加载很慢怎么解决"><a href="#15-limit-20000-加载很慢怎么解决" class="headerlink" title="15. limit 20000 加载很慢怎么解决"></a>15. limit 20000 加载很慢怎么解决</h3><p>没什么好办法，如果可以持有偏移ID，尽量用 <code>where id&gt;offet limit xxx</code> 更好</p>
<h3 id="16-选择合适的分布式主键方案"><a href="#16-选择合适的分布式主键方案" class="headerlink" title="16. 选择合适的分布式主键方案"></a>16. 选择合适的分布式主键方案</h3><p>常见的几种方式：</p>
<ul>
<li>根据机器Mac地址 + 时间戳生成主键</li>
<li>独立的主键生成服务，每次接受id请求时，根据来源IP分配一段id范围，保证不同ip的机器，持有不同的范围区间，而请求方生成的id在选定的范围内顺序递增</li>
<li>使用jdk的UUID生成方案 <code>UUID.randomUUID().toString()</code></li>
</ul>
<h3 id="17-选择合适的数据存储方案"><a href="#17-选择合适的数据存储方案" class="headerlink" title="17. 选择合适的数据存储方案"></a>17. 选择合适的数据存储方案</h3><p>一般而言，关系数据库MySql存储引擎多半是选择 InnoDB</p>
<ul>
<li>如果查多，写少时，也可以用 MyISAM，但现在不推荐这么干</li>
<li>hash索引实际用得不太多，真有这种场景推荐使用redis替换</li>
<li>memeory更少见了，所有的数据存在内存中，机器重启or崩溃，数据全丢</li>
</ul>
<p>非关系型数据库：</p>
<ul>
<li>mongoDB</li>
<li>redis、memcache 作为缓存用的场景很多</li>
</ul>
<h3 id="18-ObjectId-规则"><a href="#18-ObjectId-规则" class="headerlink" title="18. ObjectId 规则"></a>18. ObjectId 规则</h3><p>ObjectId是什么鬼…</p>
<h3 id="19-聊聊-MongoDB-使用场景"><a href="#19-聊聊-MongoDB-使用场景" class="headerlink" title="19. 聊聊 MongoDB 使用场景"></a>19. 聊聊 MongoDB 使用场景</h3><p>没用过</p>
<h3 id="20-倒排索引"><a href="#20-倒排索引" class="headerlink" title="20. 倒排索引"></a>20. 倒排索引</h3><p>正排索引(forward index)：从文档角度看其中的单词，表示每个文档（用文档ID标识）都含有哪些单词，以及每个单词出现了多少次（词频）及其出现位置（相对于文档首部的偏移量）。</p>
<p>倒排索引(inverted index，或inverted files)：从单词角度看文档，标识每个单词分别在那些文档中出现(文档ID)，以及在各自的文档中每个单词分别出现了多少次（词频）及其出现位置（相对于该文档首部的偏移量）。</p>
<p>简单记为：</p>
<ul>
<li>正排索引：文档 —&gt; 单词倒</li>
<li>排索引：单词 —&gt; 文档</li>
</ul>
<p>在搜索引擎中，倒排索引用得比较多</p>
<h3 id="21-聊聊-ElasticSearch-使用场景"><a href="#21-聊聊-ElasticSearch-使用场景" class="headerlink" title="21. 聊聊 ElasticSearch 使用场景"></a>21. 聊聊 ElasticSearch 使用场景</h3><p>根据关键词进行搜索，比如商品搜索中，输入关键词，搜索标题中包含这些关键词的商品，就比较方便了</p>
<p>此外es也常用于日志分析</p>
<h2 id="II-其他"><a href="#II-其他" class="headerlink" title="II. 其他"></a>II. 其他</h2><h3 id="个人博客：-Z-blog"><a href="#个人博客：-Z-blog" class="headerlink" title="个人博客： Z+|blog"></a>个人博客： <a href="https://liuyueyi.github.io/hexblog" target="_blank" rel="noopener">Z+|blog</a></h3><p>基于hexo + github pages搭建的个人博客，记录所有学习和工作中的博文，欢迎大家前去逛逛</p>
<h3 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h3><p>尽信书则不如，已上内容，纯属一家之言，因本人能力一般，见识有限，如发现bug或者有更好的建议，随时欢迎批评指正</p>
<ul>
<li>微博地址: <a href="https://weibo.com/p/1005052169825577/home" target="_blank" rel="noopener">小灰灰Blog</a></li>
<li>QQ： 一灰灰/3302797840</li>
</ul>
<h3 id="扫描关注"><a href="#扫描关注" class="headerlink" title="扫描关注"></a>扫描关注</h3><p><img src="https://raw.githubusercontent.com/liuyueyi/Source/master/img/info/blogInfoV2.png" alt="QrCode"></p>
</div><div class="tags"><a href="/hexblog/tags/面试/">面试</a><a href="/hexblog/tags/知识点汇总/">知识点汇总</a><a href="/hexblog/tags/数据库/">数据库</a></div><div style="text-align:center"><br><button style="color:red;background-color: #f44336;border: none;border-radius: 8px;color: white;padding: 10px 30px;text-align: center;text-decoration: none;font-size: 16px;" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">打赏</button><br><span style="display: block;color: #9d9d9d;font: 14px/2 &amp;quot;Microsoft Yahei&amp;quot;">如果觉得我的文章对您有帮助，请随意打赏。</span><br><div id="QR" style="display: none; margin-top: 20px;" class="row"><div id="wechat" style="display: inline-block;width:44%;margin-left:6%;text-align:center;"><a href="javascript:void(0)"><img src="https://s3.mogucdn.com/mlcdn/c45406/180104_50136i33id9e49j1f7k2e219e3ldf_800x798.png" alt="WeChat Pay" style="width:80%;height:80%;max-height:200px;max-width:200px"></a><p style="text-align:center">微信打赏</p></div><div id="alipay" style="display: inline-block;width:44%;text-align:center"><a href="javascript:void(0)"><img src="https://s3.mogucdn.com/mlcdn/c45406/180104_0e6afl33b23lacj6ji2d7d060aiak_798x800.png" alt="Alipay" style="width:80%;height:80%;max-height:200px;max-width:200px"></a><p style="text-align:center">支付宝打赏</p></div></div></div><div class="article-footer-copyright"><url><li>版权声明：本文由<b> 一灰灰 </b><span>发表于</span><a href="/hexblog/"> 一灰灰Blog </a></li><li>转载声明：自由转载-非商用-非衍生-保持署名，非商业转载请注明作者及出处，商业转载请联系作者本人。</li><li id="blogTitleCp">文章标题：<a style="word-wrap:break-word">Java面试知识要点之数据库篇二</a></li><li>文章链接：<a id="blogLink" style="word-wrap:break-word"></a><script>var blogLink = decodeURI(window.location.href);
var doc = document.getElementById('blogLink');
doc.setAttribute("href", blogLink);
doc.innerHTML=blogLink;</script></li></url></div><div class="post-share"><div><script src="https://s3.mogucdn.com/mlcdn/c45406/1520387600580_dom-to-image.min.js" charset="utf-8"></script><script>var url;
console.log('start--->',(new Date()).valueOf());
domtoimage.toPng(document.getElementsByClassName('layout-l')[0])
    .then(function (dataUrl) {
        url = dataUrl;
        console.log('end--->',(new Date()).valueOf());
     })
    .catch(function (error) {});
function link() {
    var title = document.getElementById('blogTitleCp').children[0].innerText;
    console.log("blog title: ", title);
    window.open().document.write('<html><head><title>'+ title + '</title></head><body><div style=\'text-align:center\' ><a download="一灰灰Blog博文_' + title + '.png" href="'+url+'"><img title="点击下载博文图：' + title + '" src="' + url + '" /></a></div></body></html>');
}</script><span style="float:center;font-size:20px;font-weight:solid;color:gray">渲染：</span><a id="saveImg" href="javascript:void(0)" onclick="link()" class="save_img">保存图片</a></div><div id="share" class="soshm social-share"><span style="float:center;font-size:20px;font-weight:solid;color:gray">分享：</span></div></div><div class="post-nav"><a href="/hexblog/2018/04/16/CSS图片点击拷贝/" class="pre">CSS图片点击拷贝</a><a href="/hexblog/2018/04/13/生产环境分库分表的实际操作全记录/" class="next">生产环境分库分表的实际操作全记录</a></div><div id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zNDY0OC8xMTE4NQ=="></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei"> 文章目录</i><a title="点击展开或隐藏分类" href="javascript:void(0)" onclick="showOrHide('toc', 'toc-expand', 'none')"><span id="toc-expand" style="font-size:12px;color:red"> 点击收起 </span></a></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Java知识要点汇总之数据库"><span class="toc-text">Java知识要点汇总之数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#I-问题列表"><span class="toc-text">I. 问题列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#II-问题解答"><span class="toc-text">II. 问题解答</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-常见的数据库优化手段"><span class="toc-text">1. 常见的数据库优化手段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-索引的优缺点，什么字段上建立索引"><span class="toc-text">2. 索引的优缺点，什么字段上建立索引</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-优点"><span class="toc-text">a. 优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-缺点"><span class="toc-text">b. 缺点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c-场景"><span class="toc-text">c. 场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#d-字段规则"><span class="toc-text">d. 字段规则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-数据库连接池。"><span class="toc-text">3. 数据库连接池。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-durid的常用配置。"><span class="toc-text">4. durid的常用配置。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-MySQL-索引使用的注意事项"><span class="toc-text">5. MySQL 索引使用的注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-说说反模式设计"><span class="toc-text">6. 说说反模式设计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-三范式"><span class="toc-text">a. 三范式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-反模式"><span class="toc-text">b. 反模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-说说分库与分表设计"><span class="toc-text">7. 说说分库与分表设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-分库与分表带来的分布式困境与应对之策"><span class="toc-text">8. 分库与分表带来的分布式困境与应对之策</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-说说-SQL-优化之道"><span class="toc-text">9. 说说 SQL 优化之道</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-MySQL-遇到的死锁问题"><span class="toc-text">10. MySQL 遇到的死锁问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-存储引擎的-InnoDB-与-MyISAM"><span class="toc-text">11. 存储引擎的 InnoDB 与 MyISAM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-数据库索引的原理"><span class="toc-text">12. 数据库索引的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-为什么要用-B-tree"><span class="toc-text">13. 为什么要用 B-tree</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-聚集索引与非聚集索引的区别"><span class="toc-text">14. 聚集索引与非聚集索引的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-limit-20000-加载很慢怎么解决"><span class="toc-text">15. limit 20000 加载很慢怎么解决</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-选择合适的分布式主键方案"><span class="toc-text">16. 选择合适的分布式主键方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-选择合适的数据存储方案"><span class="toc-text">17. 选择合适的数据存储方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-ObjectId-规则"><span class="toc-text">18. ObjectId 规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-聊聊-MongoDB-使用场景"><span class="toc-text">19. 聊聊 MongoDB 使用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20-倒排索引"><span class="toc-text">20. 倒排索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-聊聊-ElasticSearch-使用场景"><span class="toc-text">21. 聊聊 ElasticSearch 使用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#II-其他"><span class="toc-text">II. 其他</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#个人博客：-Z-blog"><span class="toc-text">个人博客： Z+|blog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#声明"><span class="toc-text">声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#扫描关注"><span class="toc-text">扫描关注</span></a></li></ol></li></ol></li></ol></div><div class="widget"><div class="widget-title"><a href="/hexblog/about/"><i class="fa fa-user"> 一灰灰Blog</i></a><a title="点击展开或收起条目" href="javascript:void(0)" onclick="showOrHide('info-list', 'info-list-expand', 'none')"><span id="info-list-expand" style="font-size:12px;color:red"> 点击收起 </span></a></div><ul class="post-list info-list"><li style="text-align:center"><img src="//s3.mogucdn.com/mlcdn/c45406/170419_637cgff527i8k9k8h512iaf36cdia_600x600.jpg" style="max-width:80px;radius:80px"/><p style="text-align:center">好好学习，天天搬砖</p><hr style="height:0.1px;border:none;border-top:1px dashed #0066CC;"/></li><li class="post-list-item"><a href="mailto:bangzewu@126.com" title="126邮箱" class="post-list-link"><i class="fa fa-email">  bangzewu@126.com</i></a></li><li class="post-list-item"><a href="//github.com/liuyueyi" title="Git主页" target="_blank" class="post-list-link"><i class="fa fa-github">  github.com/liuyueyi</i></a></li><li class="post-list-item"><a href="" title="QQ" class="post-list-link"><i class="fa fa-you">  QQ:3302797840</i></a></li><li class="post-list-item"><a href="//weibo.com/p/1005052169825577/home" title="微博主页" target="_blank" class="post-list-link"><i class="fa fa-weibo">  微博:小灰灰Blog</i></a></li><li class="post-list-item"><i class="fa fa-weixin">  微信公众号</i></li><li style="text-align:center" class="post-list-item"><img src="https://s10.mogucdn.com/mlcdn/c45406/171229_1cgld3igbelkbc70cd8af1j3809kb_150x150.jpg"/></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章(10)</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/26/Java面试知识要点之Redis篇/">Java面试知识要点之Redis篇</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/24/redis安装/">redis安装</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/24/redis环境搭建/">redis安装</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/18/18年4月18日离杭小记/">18年4月18日离杭小记</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/17/Java-借助ImageMagic实现图片编辑服务/">Java 借助ImageMagic实现图片编辑服务</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/16/CSS图片点击拷贝/">CSS图片点击拷贝</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/13/Java面试知识要点之数据库篇二/">Java面试知识要点之数据库篇二</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/13/生产环境分库分表的实际操作全记录/">生产环境分库分表的实际操作全记录</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/13/Java面试知识要点之数据库篇一/">Java面试知识要点之数据库篇一</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/11/Mybatis框架学习之使用篇二：标签语法/">Mybatis框架学习之使用篇二：标签语法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类(74)</i><a title="点击展开或隐藏分类" href="javascript:void(0)" onclick="showOrHide('category-list-child', 'category-expand', 'block')"><span id="category-expand" style="font-size:12px;color:red"> 点击展开 </span></a></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/">工作</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/分库分表/">分库分表</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/技术尝鲜/">技术尝鲜</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/面试/">面试</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/面试/DB/">DB</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/面试/Java/">Java</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/面试/缓存/">缓存</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/">技术</a><span class="category-list-count">53</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Android/">Android</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Android/一封/">一封</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/BugFix/">BugFix</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/BugFix/Java/">Java</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/BugFix/Java/Image/">Image</a><span class="category-list-count">2</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/DB/">DB</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/DB/Mybatis/">Mybatis</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/DB/Mysql/">Mysql</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/">Java</a><span class="category-list-count">19</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/IO/">IO</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/JDK/">JDK</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/JVM/">JVM</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/JavaWeb/">JavaWeb</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/Spring/">Spring</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/并发/">并发</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Quick系列项目/">Quick系列项目</a><span class="category-list-count">12</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Quick系列项目/QuickAlarm/">QuickAlarm</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Quick系列项目/QuickMedia/">QuickMedia</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Quick系列项目/QuickSpi/">QuickSpi</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Redis/">Redis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/">Shell</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/Git/">Git</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/Git/Maven/">Maven</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/Nginx/">Nginx</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/环境搭建/">环境搭建</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/前端/">前端</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/前端/Chrome/">Chrome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/前端/Css/">Css</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/前端/Jquery/">Jquery</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/杂记/">杂记</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/杂记/idea/">idea</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/杂记/吐槽/">吐槽</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/杂记/小工具/">小工具</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/生活/">生活</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/生活/随笔/">随笔</a><span class="category-list-count">2</span></li></ul></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签墙(74)</i><a title="点击展开或隐藏分类" href="javascript:void(0)" onclick="showOrHide('tagcloud', 'tag-expand', 'none')"><span id="tag-expand" style="font-size:12px;color:red"> 点击收起 </span></a></div><div class="tagcloud"><!--!= tagcloud({min_font: 15, max_font: 15, amount: 100, orderby: 'count'})--><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Initialize/">Initialize</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/面试/">面试</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/知识点汇总/">知识点汇总</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/数据库/">数据库</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/JVM/">JVM</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/容器/">容器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/泛型/">泛型</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/多线程/">多线程</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/小记/">小记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/日记/">日记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Android/">Android</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/一封/">一封</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/RelativeLayout/">RelativeLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/CountDownTimer/">CountDownTimer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Bugfix/">Bugfix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Java/">Java</a><span class="tag-list-count">34</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/batik/">batik</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Png/">Png</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/拷贝/">拷贝</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Gitbook/">Gitbook</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Centos/">Centos</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/教程/">教程</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Chrome/">Chrome</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/工具/">工具</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/笔记/">笔记</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/并发/">并发</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ForkJoin/">ForkJoin</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Reflect/">Reflect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Jquery/">Jquery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ClassLoader/">ClassLoader</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/双亲委托/">双亲委托</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/内存结构/">内存结构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/垃圾回收/">垃圾回收</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ImageMagic/">ImageMagic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/JavaWeb/">JavaWeb</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Filter/">Filter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Servlet/">Servlet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/JDK/">JDK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/知识汇总/">知识汇总</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/File/">File</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ScheduledExecutorService/">ScheduledExecutorService</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/IO/">IO</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/clone/">clone</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/beancopy/">beancopy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Email/">Email</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ThreadPoolExecutor/">ThreadPoolExecutor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/mybatis/">mybatis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Nginx/">Nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/配置/">配置</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Redis/">Redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/distributeLock/">distributeLock</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/SPI/">SPI</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/整体设计/">整体设计</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/使用手册/">使用手册</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Spring/">Spring</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/RequestParam/">RequestParam</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Jsonp/">Jsonp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/CORS/">CORS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Exception/">Exception</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Response/">Response</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ffmpeg/">ffmpeg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/imagemagic/">imagemagic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/mysql/">mysql</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/索引/">索引</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/锁/">锁</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/事务/">事务</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/redis/">redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Github/">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Maven/">Maven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/BugFix/">BugFix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/BufferedImage/">BufferedImage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Jpeg/">Jpeg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/杂记/">杂记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Okhttp/">Okhttp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/QuickAlarm/">QuickAlarm</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/hystrix/">hystrix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/分库分表/">分库分表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/随笔/">随笔</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档(74)</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2018/04/">四月 2018</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2018/03/">三月 2018</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2018/02/">二月 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2018/01/">一月 2018</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2017/12/">十二月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2017/09/">九月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2017/08/">八月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2017/05/">五月 2017</a><span class="archive-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 更多链接</i></div><ul style="padding-top:10px"></ul><li style="padding-top:2px"><a href="//my.oschina.net/u/566591" title="开源中国" target="_blank">开源中国</a></li><li style="padding-top:2px"><a href="//blog.csdn.net/liuyueyi25" title="CSDN" target="_blank">CSDN</a></li><li style="padding-top:2px"><a href="//www.jianshu.com/u/5902ab08e670" title="简书" target="_blank">简书</a></li><li style="padding-top:2px"><a href="//juejin.im/user/5a2a4b095188252ae93adbbf/posts" title="掘金" target="_blank">掘金</a></li><li style="padding-top:2px"><a href="//www.toutiao.com/c/user/69862071663/#mid=1579653107239950" title="头条" target="_blank">头条</a></li><li style="padding-top:2px"><a href="//cloud.tencent.com/developer/column/1847" title="云+" target="_blank">云+</a></li><li style="padding-top:2px"><a href="//github.com/liuyueyi" title="Github" target="_blank">Github</a></li><li style="padding-top:2px"><a href="//gitee.com/liuyueyi" title="Gitee" target="_blank">Gitee</a></li></div><div class="widget"><div class="widget-title"><i onclick="var qr = document.getElementById('qrcode'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}" style="cursor:pointer" class="fa fa-hit"> 点赞(点击展开)</i></div><ul id="qrcode" style="display:none;" class="post-list"><br/><li style="text-align:center" class="post-list-item"><a href="javascript:void(0)" target="_blank"><img src="https://s3.mogucdn.com/mlcdn/c45406/180104_50136i33id9e49j1f7k2e219e3ldf_800x798.png" alt="WeChat Pay" style="width:75%"/><br/><p style="text-align:center">微信打赏</p></a></li><li style="text-align:center" class="post-list-item"><a href="javascript:void(0)" target="_blank"><img src="https://s3.mogucdn.com/mlcdn/c45406/180104_0e6afl33b23lacj6ji2d7d060aiak_798x800.png" alt="Alipay" style="width:75%"/><br/><p style="text-align:center">支付宝打赏</p></a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="render"><script src="https://s3.mogucdn.com/mlcdn/c45406/1520387600580_dom-to-image.min.js" charset="utf-8"></script><div class="rInput"><input id="choose-id" type="text" placeholder="cid: | id: + 标签" onkeydown="if(event.keyCode==13) {doRender();}"></div><div class="rSendBtn"><a id="rImgBtn" onclick="doRender()">渲染</a></div></div><script type="text/javascript" src="/hexblog/js/render.js?v=2.0.1" async></script><div id="footer"><div class="footer-info"><p><a href="https://zbang.online/webs"><img src="//s3.mogucdn.com/mlcdn/c45406/170419_637cgff527i8k9k8h512iaf36cdia_600x600.jpg" style="max-width: 44px;border-radius:44px"></a></p><p><a href="https://github.com/liuyueyi" target="_blank">GitHub</a> |  <a href="mailto:bangzewu@126.com">email</a> |  <a href="/hexblog/about/">关于 |</a><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p></p><p><span> Copyright &copy;<a href="/hexblog/." rel="nofollow">YiHui.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?028d9e53f991d9739ecc7cc42e13c500";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/hexblog/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/hexblog/js/toctotop.js?v=2.0.1" async></script><script src="https://s3.mogucdn.com/mlcdn/c45406/1520407228303_social-share.min.js" charset="utf-8"></script><link rel="stylesheet" href="https://s3.mogucdn.com/mlcdn/c45406/1518422561591_share.min.css"><script>(function(d, s) {
  var j, e = d.getElementsByTagName('body')[0];
  if (typeof LivereTower === 'function') { return; }
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.appendChild(j);
})(document, 'script');
</script></body><script type="text/javascript" src="/hexblog/js/common.js?v=2.0.1" async></script></html>