<!DOCTYPE html><html lang="zh-CN"><head><meta name="google-site-verification" content="PR6S72-htn-N1oDn9ENMcwi5niLKk0uebDzmRS-oivs"><meta property="wb:webmaster" content="320520520031fedd"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="好好学习，努力搬砖，天天吃草"><title>Java面试知识要点之Redis篇 | 一灰灰Blog</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/hexblog/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/hexblog/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/hexblog/favicon.ico"><link rel="bookmark" href="/hexblog/favicon.ico"><link rel="apple-touch-icon" href="/hexblog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/hexblog/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Java面试知识要点之Redis篇</h1><a id="logo" href="/hexblog/.">一灰灰Blog</a><p style="font-size:18px" class="description">一灰灰的个人博客网站</p></div><div id="nav-menu"><a href="/hexblog/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/hexblog/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/hexblog/about/"><i class="fa fa-user"> 关于</i></a><a href="http://liuyueyi.gitee.io/zweb/#/index"><i class="fa fa-rss"> 网站</i></a><a href="http://liuyueyi.gitee.io/mweb/#/"><i class="fa fa-you"> 古诗选</i></a><hr><br><div id="nav-sub-menu"><a href="/hexblog/categories/技术"><i class="fa fa-right"> 技术</i></a><a href="/hexblog/categories/工作"><i class="fa fa-right"> 工作</i></a><a href="/hexblog/categories/生活"><i class="fa fa-right"> 生活</i></a><a href="/hexblog/categories/杂记"><i class="fa fa-right"> 杂记</i></a></div></div>
<div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/hexblog/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Java面试知识要点之Redis篇 <span style="font-size:14px;color:#40759b;font-style:italic;border-bottom: 1px solid #e5e5e5;">&gt;&gt;&gt; by 一灰灰Blog</span></h1><div class="post-meta"><a href="/hexblog/2018/04/26/Java面试知识要点之Redis篇/#saveImg" class="saveImg-icon"></a><a href="/hexblog/2018/04/26/Java面试知识要点之Redis篇/#comments" class="comment-count"></a><p><span class="date">Apr 26, 2018</span><span><a href="/hexblog/categories/工作/" class="category">工作</a><a href="/hexblog/categories/工作/面试/" class="category">面试</a><a href="/hexblog/categories/工作/面试/缓存/" class="category">缓存</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h2 id="I-问题列表"><a href="#I-问题列表" class="headerlink" title="I. 问题列表"></a>I. 问题列表</h2><ul>
<li>什么是redis</li>
<li>和memcache的区别</li>
<li>支持的数据结构以及常用命令</li>
<li>如何支持并发？</li>
<li>如何保证原子性</li>
<li>回收算法</li>
<li>大量数据插入的问题</li>
<li>分区相关</li>
<li>如何扩容</li>
<li>常见性能问题以及优化建议</li>
<li>如何借助redis做消息队列</li>
<li>如何借助redis实现分布式锁</li>
</ul>
<a id="more"></a>
<h2 id="II-解答"><a href="#II-解答" class="headerlink" title="II. 解答"></a>II. 解答</h2><h3 id="1-什么是redis"><a href="#1-什么是redis" class="headerlink" title="1. 什么是redis"></a>1. 什么是redis</h3><p>简单来说，redis是一个非关系型的、基于内存的，可持久化存储的kv数据库，value支持的数据结构包含String，List, Set, ZSet(排序集合)和hash，单进程模式，支持简单的事物功能；常作为缓存来使用，也可以作为计数器</p>
<h3 id="2-redis与memcache之间对比"><a href="#2-redis与memcache之间对比" class="headerlink" title="2. redis与memcache之间对比"></a>2. redis与memcache之间对比</h3><blockquote>
<p><a href="https://www.imooc.com/article/23549" target="_blank" rel="noopener">脚踏两只船的困惑 - Memcached与Redis</a></p>
</blockquote>
<p>一般来讲，生产环境中会大量用到缓存，而缓存的选择，较多的就是redis和memcache了，所以他们两经常拿出来对比，个人没有使用过memcache，因此主要内容参考网上信息</p>
<table>
<thead>
<tr>
<th>redis</th>
<th>memcache</th>
</tr>
</thead>
<tbody>
<tr>
<td>支持持久化</td>
<td>不支持持久化</td>
</tr>
<tr>
<td>单进程</td>
<td>多线程服务支持，非阻塞IO复用</td>
</tr>
<tr>
<td>内存，非关系型数据库</td>
<td>纯内存，kv结构，缓存系统</td>
</tr>
<tr>
<td>value类型： String, List, Set, ZSet, Hash</td>
<td>文本，二进制</td>
</tr>
<tr>
<td>额外功能：发布/订阅模式，主从分区，序列化，lua脚本</td>
<td>多线程支持</td>
</tr>
<tr>
<td>会导致内存碎片，需要多少空间申请多少空间</td>
<td>避免了内存碎片，采用chunk进行封装</td>
</tr>
</tbody>
</table>
<p>简单来讲，两者都可以用来做缓存，但是</p>
<ul>
<li>鉴于memcache没法持久化，因此对数据有落盘需求的，必须选择redis</li>
<li>redis支持更多类型的数据结构，在某些场景下更通用</li>
<li>redis单进程模式，memcache多线程IO复用模式，对性能而言，后者更好</li>
</ul>
<p>有一个说法：</p>
<p>使用Redis的String类型做的事，都可以用Memcached替换，以此换取更好的性能提升； 除此以外，优先考虑Redis；</p>
<h3 id="3-redis支持的数据结构及常见命令"><a href="#3-redis支持的数据结构及常见命令" class="headerlink" title="3. redis支持的数据结构及常见命令"></a>3. redis支持的数据结构及常见命令</h3><p>上面列出了redis支持的几种数据结构，String, List, Set, ZSet, Hash， 下面依次进行说明</p>
<h4 id="a-String"><a href="#a-String" class="headerlink" title="a. String"></a>a. String</h4><p>最常见的一种类型，value就是一个字符串，常见的使用姿势</p>
<ul>
<li>set, get, mset, mget  （设置kv，或者获取value）</li>
<li>setnx （当不存在时，设置value)</li>
</ul>
<p>此外，允许存一个整形的数在redis中，并提供了 incr, decr 实现加减，从而支持计数的场景</p>
<h4 id="b-List"><a href="#b-List" class="headerlink" title="b. List"></a>b. List</h4><p>value是一个双向列表，允许重复，有序，常见的使用姿势</p>
<ul>
<li>lpush （在左边添加元素), lpop, rpush, rpop</li>
<li>lrange (获取指定位置的元素)</li>
</ul>
<p>可用于存放用户的关系列表，消息队列等</p>
<h4 id="c-set"><a href="#c-set" class="headerlink" title="c. set"></a>c. set</h4><p>集合，相比较于list而言，不允许出现重复的元素，常见使用姿势</p>
<ul>
<li>sadd,spop（移除并随机返回一个元素）,smembers（返回所有的元素）,sunion（sunion key1 key2 返回所有给定集合的并集）</li>
</ul>
<h4 id="d-zset-（排序集合"><a href="#d-zset-（排序集合" class="headerlink" title="d. zset （排序集合)"></a>d. zset （排序集合)</h4><p>一个排序的结合，比如可以用来做排行榜，常见的使用姿势</p>
<ul>
<li>zadd,zrange,zrem,zcard</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZADD key score1 member1 [score2 member2]</span><br></pre></td></tr></table></figure>
<h4 id="e-hash"><a href="#e-hash" class="headerlink" title="e. hash"></a>e. hash</h4><p>Hash是一个string类型的field和value的映射表，hash特别适合用于存储对象。 比如我们可以Hash数据结构来存储用户信息，商品信息等等。</p>
<ul>
<li>hget,hset,hgetall,hdel（删除）,hlen(数量)</li>
</ul>
<h3 id="3-redis如何支持并发"><a href="#3-redis如何支持并发" class="headerlink" title="3. redis如何支持并发"></a>3. redis如何支持并发</h3><p>可以将这个问题与原子性，事务性联合起来一起进行说明，首先我们知道redis是单进程模式，所以在服务端而言，是天生不存在并发问题，也没有锁的竞争之类的，那么原子性就很好说了，命令都是单进程顺序执行，保证了原子操作；其次就是事物的支持，简单来讲就是强制将一些执行命令，串行起来运行，从而实现一个伪事物的特性</p>
<p>那么并发如何支持呢？可以支持吗？</p>
<p>从redis服务端出发，单进程模式可以说是并不支持并发的，当然也有一些辅助手段，可以来实现并发功能</p>
<ul>
<li>客户端的并发支持，对于redis客户端，可以通过连接池的相关手段，辅助synchronized和lock来实现并发访问redis的支持</li>
<li>redis搭建集群，借助分区，从而实现并发支持</li>
</ul>
<h3 id="4-redis回收进程如何工作，采用的什么算法？"><a href="#4-redis回收进程如何工作，采用的什么算法？" class="headerlink" title="4. redis回收进程如何工作，采用的什么算法？"></a>4. redis回收进程如何工作，采用的什么算法？</h3><p>redis中采用两种算法进行内存回收， 引用计数， LRU（最近最久未使用）</p>
<h4 id="a-引用计数"><a href="#a-引用计数" class="headerlink" title="a. 引用计数"></a>a. 引用计数</h4><p>引用计数，去掉内存中不再引用的对象，以及运行一个定时任务serverCron去掉内存中已经过期的对象占用的空间</p>
<h4 id="b-LRU"><a href="#b-LRU" class="headerlink" title="b. LRU"></a>b. LRU</h4><p>当内存空间不够后，淘汰内存中的某些对象，有下面几种策略：</p>
<ul>
<li>将设置了过期时间的数据集合中，选择最久未使用的数据释放</li>
<li>从数据集（设置过期和没有设置的）中选择最久未使用的数据释放</li>
<li>从设置过期时间数据集中，随机选择数据进行释放</li>
<li>从数据集中随机选择数据释放</li>
<li>从设置过期时间的数据集中，选择将要过期的数据</li>
<li>不删除任意数据，内存不够时，直接返回错误（默认的策略）</li>
</ul>
<h3 id="4-大量数据插入"><a href="#4-大量数据插入" class="headerlink" title="4. 大量数据插入"></a>4. 大量数据插入</h3><blockquote>
<p><a href="http://www.redis.cn/topics/mass-insert.html" target="_blank" rel="noopener">Redis 大量数据插入</a></p>
</blockquote>
<p>有些时候，Redis实例需要装载大量用户在短时间内产生的数据，数以百万计的keys需要被快速的创建，这就是所说的大量数据插入</p>
<p>借助redis-cli 的 pipe mode模式来执行</p>
<p>一个case如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 将命令封装到 cmd.txt 文件中</span><br><span class="line">2. 执行</span><br><span class="line"></span><br><span class="line">cat cmd.txt | redis-cli --pipe</span><br></pre></td></tr></table></figure>
<p>输出类似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">All data transferred. Waiting for the last reply...</span><br><span class="line">Last reply received from server.</span><br><span class="line">errors: 0, replies: 1000000</span><br></pre></td></tr></table></figure>
<h3 id="5-redis分区"><a href="#5-redis分区" class="headerlink" title="5. redis分区"></a>5. redis分区</h3><blockquote>
<p><a href="http://www.redis.net.cn/tutorial/3524.html" target="_blank" rel="noopener">Redis 分区</a></p>
</blockquote>
<p>分区就是讲数据分散存储到多个redis实例中，每个实例中可能只保存key的一个子集</p>
<p><strong>优点</strong></p>
<ul>
<li>存储量更大</li>
<li>提高吞吐量</li>
<li>安全性更高</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>多个key操作支持不友好（跨实例的多key可能并不支持）</li>
<li>增加和删除容量比较复杂</li>
</ul>
<p><strong>分区类型</strong></p>
<ul>
<li>范围分区：根据某个条件进行范围分区，如key有个唯一表示id，根据id在(0,10000), （10001,20000）来分散到不同的实例</li>
<li>hash分区：根据key进行hash映射，分散到不同的实例中</li>
</ul>
<p>这个分区可以和db的分库分表做一个简单的类比，其中</p>
<ul>
<li>范围分区类似于根据冷热数据进行分库分表</li>
<li>hash分区类似于根据id进行散列分库分表</li>
</ul>
<h3 id="6-redis持久化数据和缓存怎么扩容？"><a href="#6-redis持久化数据和缓存怎么扩容？" class="headerlink" title="6. redis持久化数据和缓存怎么扩容？"></a>6. redis持久化数据和缓存怎么扩容？</h3><h4 id="a-持久化"><a href="#a-持久化" class="headerlink" title="a. 持久化"></a>a. 持久化</h4><blockquote>
<p><a href="https://blog.csdn.net/tr1912/article/details/70197085?foxhandler=RssReadRenderProcessHandler" target="_blank" rel="noopener">redis的持久化和缓存机制</a></p>
</blockquote>
<p>redis支持数据持久化，既断线后也不用担心数据丢失，常见的有两种持久化手段</p>
<p><strong>快照方式Snapshot</strong></p>
<p>默认的持久化方式，将内存中的数据以快照方式写入到二进制文件中，默认文件名为dump.rdb，通过配置来设置redis在n秒内如果超过m个key被修改自动做快照，配置如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">save 900 1 #900 秒内如果超过 1 个 key 被修改，则发起快照保存</span><br><span class="line">save 300 10 #300 秒内容如超过 10 个 key 被修改，则发起快照保存</span><br></pre></td></tr></table></figure>
<p>说明：</p>
<ul>
<li>每次进行快照持久化，都是讲内存中的所有数据都写到磁盘中，因此若出现频繁的快照持久化，会造成严重的磁盘IO</li>
<li>隔一段时间之后，做一次快照，因此意外down掉，可能导致最后一次的快照没有备份成功，导致数据丢失</li>
</ul>
<p><strong>AOF方式(Append only file)</strong></p>
<p>在使用 aof 持久化方式时,redis 会将每一个收到的写命令都通过 write 函数追加到文件中(默认是 appendonly.aof)。当 redis 重启时会通过重新执行文件中保存的写命令来在内存中重建整个数据库的内容。</p>
<p>简单来讲，就是将执行的命令记录在文件中，当出现问题时，重新执行记录命令的文件即可，类似于数据库中事物的操作中roll back日志的方式</p>
<p>说明：</p>
<p>由于 os 会在内核中缓存 write 做的修改，所以可能不是立即写到磁盘上。这样 aof 方式的持久化也还是有可能会丢失部分修改。</p>
<p>不过我们可以通过配置文件告诉 redis 我们想要通过 fsync 函数强制 os 写入到磁盘的时机，</p>
<ul>
<li>appendonly yes //启用 aof 持久化方式</li>
<li>appendfsync always //收到写命令就立即写入磁盘，最慢，但是保证完全的持久化</li>
<li>appendfsync everysec //每秒钟写入磁盘一次，在性能和持久化方面做了很好的折中</li>
<li>appendfsync no //完全依赖 os，性能最好,持久化没保证</li>
</ul>
<p>此外就是保存命令的文件中，记录有所的命令，但是实际恢复时，可能只需要重做最新的几个命令而已</p>
<p>redis 提供了 bgrewriteaof 命令。收到此命令 redis 将使用与快照类似的方式将内存中的数据以命令的方式保存到临时文件中，最后替换原来的文件。</p>
<h3 id="7，常见的性能问题及优化手段"><a href="#7，常见的性能问题及优化手段" class="headerlink" title="7，常见的性能问题及优化手段"></a>7，常见的性能问题及优化手段</h3><p>针对这个问题，在实际生产环境中，遇到最大问题有下面两个</p>
<ul>
<li>网络IO引起的性能瓶颈</li>
<li>redis集群抖动引起的性能开销</li>
</ul>
<p>分别对上面的问题原因进行分析，并给出相应的解决方案</p>
<h4 id="a-网络IO问题"><a href="#a-网络IO问题" class="headerlink" title="a. 网络IO问题"></a>a. 网络IO问题</h4><p>当qps较大时，网络IO会成为redis的一个瓶颈，特别是当存储的数据非常大时，格外明显</p>
<p>假设一个kv对占用空间为64K，那么1000的qps可能占用64M的网络IO（这里简单考虑输出IO），对百M网卡而言，可能直接导致服务的qps上限不会超过2000了</p>
<p>此外还有一个问题就是TCP重传时，数据量大时，对网络IO的影响也是格外严重的</p>
<p>所以一般在生产环境下，会对redis的value长度进行限制，避免过大；其次就是list的个数问题，特别是获取时，尽量不要一次获取太多</p>
<p>第二个解决方案是从业务上进行隔离，每个业务有自己的独立的redis集群，尽量不要与其他的业务公用，否则由于redis的单进程模式，其他业务的耗时操作也会影响你的业务</p>
<h4 id="b-redis集群抖动问题"><a href="#b-redis集群抖动问题" class="headerlink" title="b. redis集群抖动问题"></a>b. redis集群抖动问题</h4><p>什么场景可能到只redis集群的抖动呢？就我个人遇到的情况，有以下几个可能</p>
<ul>
<li>服务器本身的load过高，可能引起内存回收不及时导致的抖动</li>
<li>基于快照或AOF的持久化过于频繁，导致的大量磁盘IO</li>
<li>tcp重传导致的客户端监控上体现为抖动</li>
</ul>
<p>常见的一些扩展方案：</p>
<ul>
<li>分区，增加redis实例</li>
<li>根据数据的重要程度，设置合理的备份策略</li>
<li>master最好不做持久化工作，放在某个slave上进行备份</li>
<li>为了主从复制效率，master和slave最好放在同一个局域网</li>
<li>尽量避免在压力很大的主库上增加从库</li>
</ul>
<h3 id="8-redis与消息队列"><a href="#8-redis与消息队列" class="headerlink" title="8. redis与消息队列"></a>8. redis与消息队列</h3><p>首先声明redis并不太适合做消息队列，这种事情应该交给更专业的kafaka, rabbitmq等来做</p>
<p>如果硬是要用redis来做，常见的有两种方式</p>
<h4 id="a-基于发布-订阅模型"><a href="#a-基于发布-订阅模型" class="headerlink" title="a. 基于发布/订阅模型"></a>a. 基于发布/订阅模型</h4><p>基于redis的pub/sub来实现，一种非持久化的消息机制，消息发布者与订阅者要求同时在线，否则一旦订阅者离线之后，在重连之前，这段时间的消息无法被重新加载</p>
<p>消息发布者Provider：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">publish xxxKey message</span><br></pre></td></tr></table></figure>
<p>消息订阅者Consumer:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subscribe xxxKey</span><br></pre></td></tr></table></figure>
<p>特点：</p>
<ul>
<li>支持一个生产者对应多个消费者</li>
<li>支持集群</li>
<li>使用简单</li>
</ul>
<p>缺点：</p>
<ul>
<li>不安全，consumer挂掉后会丢消息，没有ack机制</li>
<li>不支持多个客户端消费同一个消息的场景</li>
</ul>
<h4 id="b-基于list"><a href="#b-基于list" class="headerlink" title="b. 基于list"></a>b. 基于list</h4><p>这个可以算是一种简单的消息使用思路，producer负责往List中塞数据；consumer负责从list中获取数据</p>
<p>消息发布者Provider：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lpush xxxKey message</span><br></pre></td></tr></table></figure>
<p>消息订阅者Consumer:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 非阻塞方式</span><br><span class="line">lpop xxxKey</span><br><span class="line"></span><br><span class="line"># 阻塞获取方式 0表示一直等待有消息，&gt;0表示等待多少s后，超时</span><br><span class="line">blpop xxxKey 0</span><br></pre></td></tr></table></figure>
<h3 id="9-redis与分布式锁"><a href="#9-redis与分布式锁" class="headerlink" title="9. redis与分布式锁"></a>9. redis与分布式锁</h3><blockquote>
<p>推荐参考<a href="https://liuyueyi.github.io/hexblog/2018/01/14/Redis%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E7%9B%B8%E5%85%B3%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" target="_blank" rel="noopener">Redis实现分布式锁相关注意事项</a></p>
</blockquote>
<p>首先声明一点，没有百分百完美的分布式锁，一般针对那种严格性不是特别特别特别有要求的场景下，大多数没有明显漏洞的分布式方案都是ok的</p>
<p>常见的思路：</p>
<ul>
<li>setnx 尝试获取锁，设置成功表示获取到了锁；</li>
<li>设置失败，没有获取锁<ul>
<li>判断是否过期，是则循环再次尝试获取锁，直到成功</li>
<li>过期，getset再次设置锁，判断是否获取成功</li>
<li>失败，则重新进入尝试获取锁的逻辑</li>
</ul>
</li>
<li>获取锁之后执行业务，最后释放锁（请注意只能释放自己持有的锁，不要把别人的锁给释放了）</li>
</ul>
<p>如何判断过期呢？</p>
<ul>
<li>value包含时间戳信息，获取锁失败时，取出value</li>
<li>判断是否过期</li>
<li>若过期，则借助getset来设置新的锁</li>
</ul>
<p>这个思路在并发环境下，因为getset可能到只写入脏数据，详情可以参考上面的博文，因此另一种方式是直接在设置锁的时候，指定失效时间，这样过期之后，就可以直接释放掉锁，避免再次尝试获取锁setnx时出现问题</p>
<h2 id="III。-其他"><a href="#III。-其他" class="headerlink" title="III。 其他"></a>III。 其他</h2><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://www.runoob.com/redis/redis-commands.html" target="_blank" rel="noopener">redis命令</a></li>
<li><a href="https://juejin.im/post/5ad6e4066fb9a028d82c4b66" target="_blank" rel="noopener">面试中关于redis的问题</a></li>
</ul>
<h3 id="个人博客：-Z-blog"><a href="#个人博客：-Z-blog" class="headerlink" title="个人博客： Z+|blog"></a>个人博客： <a href="https://liuyueyi.github.io/hexblog" target="_blank" rel="noopener">Z+|blog</a></h3><p>基于hexo + github pages搭建的个人博客，记录所有学习和工作中的博文，欢迎大家前去逛逛</p>
<h3 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h3><p>尽信书则不如，已上内容，纯属一家之言，因本人能力一般，见识有限，如发现bug或者有更好的建议，随时欢迎批评指正</p>
<ul>
<li>微博地址: <a href="https://weibo.com/p/1005052169825577/home" target="_blank" rel="noopener">小灰灰Blog</a></li>
<li>QQ： 一灰灰/3302797840</li>
</ul>
<h3 id="扫描关注"><a href="#扫描关注" class="headerlink" title="扫描关注"></a>扫描关注</h3><p><img src="https://raw.githubusercontent.com/liuyueyi/Source/master/img/info/blogInfoV2.png" alt="QrCode"></p>
</div><div class="tags"><a href="/hexblog/tags/面试/">面试</a><a href="/hexblog/tags/知识汇总/">知识汇总</a><a href="/hexblog/tags/Redis/">Redis</a></div><div style="text-align:center"><br><button style="color:red;background-color: #f44336;border: none;border-radius: 8px;color: white;padding: 10px 30px;text-align: center;text-decoration: none;font-size: 16px;" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">打赏</button><br><span style="display: block;color: #9d9d9d;font: 14px/2 &amp;quot;Microsoft Yahei&amp;quot;">如果觉得我的文章对您有帮助，请随意打赏。</span><br><div id="QR" style="display: none; margin-top: 20px;" class="row"><div id="wechat" style="display: inline-block;width:44%;margin-left:6%;text-align:center;"><a href="javascript:void(0)"><img src="https://s3.mogucdn.com/mlcdn/c45406/180104_50136i33id9e49j1f7k2e219e3ldf_800x798.png" alt="WeChat Pay" style="width:80%;height:80%;max-height:200px;max-width:200px"></a><p style="text-align:center">微信打赏</p></div><div id="alipay" style="display: inline-block;width:44%;text-align:center"><a href="javascript:void(0)"><img src="https://s3.mogucdn.com/mlcdn/c45406/180104_0e6afl33b23lacj6ji2d7d060aiak_798x800.png" alt="Alipay" style="width:80%;height:80%;max-height:200px;max-width:200px"></a><p style="text-align:center">支付宝打赏</p></div></div></div><div class="article-footer-copyright"><url><li>版权声明：本文由<b> 一灰灰 </b><span>发表于</span><a href="/hexblog/"> 一灰灰Blog </a></li><li>转载声明：自由转载-非商用-非衍生-保持署名，非商业转载请注明作者及出处，商业转载请联系作者本人。</li><li id="blogTitleCp">文章标题：<a style="word-wrap:break-word">Java面试知识要点之Redis篇</a></li><li>文章链接：<a id="blogLink" style="word-wrap:break-word"></a><script>var blogLink = decodeURI(window.location.href);
var doc = document.getElementById('blogLink');
doc.setAttribute("href", blogLink);
doc.innerHTML=blogLink;</script></li></url></div><div class="post-share"><div><script src="https://s3.mogucdn.com/mlcdn/c45406/1520387600580_dom-to-image.min.js" charset="utf-8"></script><script>var url;
console.log('start--->',(new Date()).valueOf());
domtoimage.toPng(document.getElementsByClassName('layout-l')[0])
    .then(function (dataUrl) {
        url = dataUrl;
        console.log('end--->',(new Date()).valueOf());
     })
    .catch(function (error) {});
function link() {
    var title = document.getElementById('blogTitleCp').children[0].innerText;
    console.log("blog title: ", title);
    window.open().document.write('<html><head><title>'+ title + '</title></head><body><div style=\'text-align:center\' ><a download="一灰灰Blog博文_' + title + '.png" href="'+url+'"><img title="点击下载博文图：' + title + '" src="' + url + '" /></a></div></body></html>');
}</script><span style="float:center;font-size:20px;font-weight:solid;color:gray">渲染：</span><a id="saveImg" href="javascript:void(0)" onclick="link()" class="save_img">保存图片</a></div><div id="share" class="soshm social-share"><span style="float:center;font-size:20px;font-weight:solid;color:gray">分享：</span></div></div><div class="post-nav"><a href="/hexblog/2018/04/24/redis安装/" class="next">redis安装</a></div><div id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zNDY0OC8xMTE4NQ=="></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei"> 文章目录</i><a title="点击展开或隐藏分类" href="javascript:void(0)" onclick="showOrHide('toc', 'toc-expand', 'none')"><span id="toc-expand" style="font-size:12px;color:red"> 点击收起 </span></a></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#I-问题列表"><span class="toc-text">I. 问题列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#II-解答"><span class="toc-text">II. 解答</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-什么是redis"><span class="toc-text">1. 什么是redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-redis与memcache之间对比"><span class="toc-text">2. redis与memcache之间对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-redis支持的数据结构及常见命令"><span class="toc-text">3. redis支持的数据结构及常见命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-String"><span class="toc-text">a. String</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-List"><span class="toc-text">b. List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c-set"><span class="toc-text">c. set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#d-zset-（排序集合"><span class="toc-text">d. zset （排序集合)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#e-hash"><span class="toc-text">e. hash</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-redis如何支持并发"><span class="toc-text">3. redis如何支持并发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-redis回收进程如何工作，采用的什么算法？"><span class="toc-text">4. redis回收进程如何工作，采用的什么算法？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-引用计数"><span class="toc-text">a. 引用计数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-LRU"><span class="toc-text">b. LRU</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-大量数据插入"><span class="toc-text">4. 大量数据插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-redis分区"><span class="toc-text">5. redis分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-redis持久化数据和缓存怎么扩容？"><span class="toc-text">6. redis持久化数据和缓存怎么扩容？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-持久化"><span class="toc-text">a. 持久化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7，常见的性能问题及优化手段"><span class="toc-text">7，常见的性能问题及优化手段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-网络IO问题"><span class="toc-text">a. 网络IO问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-redis集群抖动问题"><span class="toc-text">b. redis集群抖动问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-redis与消息队列"><span class="toc-text">8. redis与消息队列</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-基于发布-订阅模型"><span class="toc-text">a. 基于发布/订阅模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-基于list"><span class="toc-text">b. 基于list</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-redis与分布式锁"><span class="toc-text">9. redis与分布式锁</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#III。-其他"><span class="toc-text">III。 其他</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#参考"><span class="toc-text">参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#个人博客：-Z-blog"><span class="toc-text">个人博客： Z+|blog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#声明"><span class="toc-text">声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#扫描关注"><span class="toc-text">扫描关注</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><a href="/hexblog/about/"><i class="fa fa-user"> 一灰灰Blog</i></a><a title="点击展开或收起条目" href="javascript:void(0)" onclick="showOrHide('info-list', 'info-list-expand', 'none')"><span id="info-list-expand" style="font-size:12px;color:red"> 点击收起 </span></a></div><ul class="post-list info-list"><li style="text-align:center"><img src="//s3.mogucdn.com/mlcdn/c45406/170419_637cgff527i8k9k8h512iaf36cdia_600x600.jpg" style="max-width:80px;radius:80px"/><p style="text-align:center">好好学习，天天搬砖</p><hr style="height:0.1px;border:none;border-top:1px dashed #0066CC;"/></li><li class="post-list-item"><a href="mailto:bangzewu@126.com" title="126邮箱" class="post-list-link"><i class="fa fa-email">  bangzewu@126.com</i></a></li><li class="post-list-item"><a href="//github.com/liuyueyi" title="Git主页" target="_blank" class="post-list-link"><i class="fa fa-github">  github.com/liuyueyi</i></a></li><li class="post-list-item"><a href="" title="QQ" class="post-list-link"><i class="fa fa-you">  QQ:3302797840</i></a></li><li class="post-list-item"><a href="//weibo.com/p/1005052169825577/home" title="微博主页" target="_blank" class="post-list-link"><i class="fa fa-weibo">  微博:小灰灰Blog</i></a></li><li class="post-list-item"><i class="fa fa-weixin">  微信公众号</i></li><li style="text-align:center" class="post-list-item"><img src="https://s10.mogucdn.com/mlcdn/c45406/171229_1cgld3igbelkbc70cd8af1j3809kb_150x150.jpg"/></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章(10)</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/26/Java面试知识要点之Redis篇/">Java面试知识要点之Redis篇</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/24/redis安装/">redis安装</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/18/18年4月18日离杭小记/">18年4月18日离杭小记</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/17/Java-借助ImageMagic实现图片编辑服务/">Java 借助ImageMagic实现图片编辑服务</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/16/CSS图片点击拷贝/">CSS图片点击拷贝</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/13/Java面试知识要点之数据库篇二/">Java面试知识要点之数据库篇二</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/13/生产环境分库分表的实际操作全记录/">生产环境分库分表的实际操作全记录</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/13/Java面试知识要点之数据库篇一/">Java面试知识要点之数据库篇一</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/11/Mybatis框架学习之使用篇二：标签语法/">Mybatis框架学习之使用篇二：标签语法</a></li><li class="post-list-item"><a class="post-list-link" href="/hexblog/2018/04/11/Mybatis框架学习之使用篇一：基本环境/">Mybatis框架学习之使用篇一：基本环境</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类(73)</i><a title="点击展开或隐藏分类" href="javascript:void(0)" onclick="showOrHide('category-list-child', 'category-expand', 'block')"><span id="category-expand" style="font-size:12px;color:red"> 点击展开 </span></a></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/">工作</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/分库分表/">分库分表</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/技术尝鲜/">技术尝鲜</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/面试/">面试</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/面试/DB/">DB</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/面试/Java/">Java</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/工作/面试/缓存/">缓存</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/">技术</a><span class="category-list-count">52</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Android/">Android</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Android/一封/">一封</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/BugFix/">BugFix</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/BugFix/Java/">Java</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/BugFix/Java/Image/">Image</a><span class="category-list-count">2</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/DB/">DB</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/DB/Mybatis/">Mybatis</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/DB/Mysql/">Mysql</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/">Java</a><span class="category-list-count">19</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/IO/">IO</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/JDK/">JDK</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/JVM/">JVM</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/JavaWeb/">JavaWeb</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/Spring/">Spring</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Java/并发/">并发</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Quick系列项目/">Quick系列项目</a><span class="category-list-count">12</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Quick系列项目/QuickAlarm/">QuickAlarm</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Quick系列项目/QuickMedia/">QuickMedia</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Quick系列项目/QuickSpi/">QuickSpi</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Redis/">Redis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/">Shell</a><span class="category-list-count">7</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/Git/">Git</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/Git/Maven/">Maven</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/Nginx/">Nginx</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/Shell/环境搭建/">环境搭建</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/前端/">前端</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/前端/Chrome/">Chrome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/前端/Css/">Css</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/技术/前端/Jquery/">Jquery</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/杂记/">杂记</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/杂记/idea/">idea</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/杂记/吐槽/">吐槽</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/杂记/小工具/">小工具</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/生活/">生活</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/hexblog/categories/生活/随笔/">随笔</a><span class="category-list-count">2</span></li></ul></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签墙(73)</i><a title="点击展开或隐藏分类" href="javascript:void(0)" onclick="showOrHide('tagcloud', 'tag-expand', 'none')"><span id="tag-expand" style="font-size:12px;color:red"> 点击收起 </span></a></div><div class="tagcloud"><!--!= tagcloud({min_font: 15, max_font: 15, amount: 100, orderby: 'count'})--><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Initialize/">Initialize</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/面试/">面试</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/知识点汇总/">知识点汇总</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/数据库/">数据库</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/JVM/">JVM</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/容器/">容器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/泛型/">泛型</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/多线程/">多线程</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/小记/">小记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/日记/">日记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Android/">Android</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/一封/">一封</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/RelativeLayout/">RelativeLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/CountDownTimer/">CountDownTimer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Bugfix/">Bugfix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Java/">Java</a><span class="tag-list-count">34</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/batik/">batik</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Png/">Png</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/拷贝/">拷贝</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Gitbook/">Gitbook</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Centos/">Centos</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/教程/">教程</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Chrome/">Chrome</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/工具/">工具</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/笔记/">笔记</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/并发/">并发</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ForkJoin/">ForkJoin</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Reflect/">Reflect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Jquery/">Jquery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ClassLoader/">ClassLoader</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/双亲委托/">双亲委托</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/内存结构/">内存结构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/垃圾回收/">垃圾回收</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ImageMagic/">ImageMagic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/JavaWeb/">JavaWeb</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Filter/">Filter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Servlet/">Servlet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/JDK/">JDK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/知识汇总/">知识汇总</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/File/">File</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ScheduledExecutorService/">ScheduledExecutorService</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/IO/">IO</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/clone/">clone</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/beancopy/">beancopy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Email/">Email</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ThreadPoolExecutor/">ThreadPoolExecutor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/mybatis/">mybatis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Nginx/">Nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/配置/">配置</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Redis/">Redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/distributeLock/">distributeLock</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/SPI/">SPI</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/整体设计/">整体设计</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/使用手册/">使用手册</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Spring/">Spring</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/RequestParam/">RequestParam</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Jsonp/">Jsonp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/CORS/">CORS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Exception/">Exception</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Response/">Response</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/ffmpeg/">ffmpeg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/imagemagic/">imagemagic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/mysql/">mysql</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/索引/">索引</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/锁/">锁</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/事务/">事务</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/redis/">redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Github/">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Maven/">Maven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/BugFix/">BugFix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/BufferedImage/">BufferedImage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Jpeg/">Jpeg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/杂记/">杂记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/Okhttp/">Okhttp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/QuickAlarm/">QuickAlarm</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/hystrix/">hystrix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/分库分表/">分库分表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/hexblog/tags/随笔/">随笔</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档(73)</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2018/04/">四月 2018</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2018/03/">三月 2018</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2018/02/">二月 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2018/01/">一月 2018</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2017/12/">十二月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2017/09/">九月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2017/08/">八月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/hexblog/archives/2017/05/">五月 2017</a><span class="archive-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 更多链接</i></div><ul style="padding-top:10px"></ul><li style="padding-top:2px"><a href="//my.oschina.net/u/566591" title="开源中国" target="_blank">开源中国</a></li><li style="padding-top:2px"><a href="//blog.csdn.net/liuyueyi25" title="CSDN" target="_blank">CSDN</a></li><li style="padding-top:2px"><a href="//www.jianshu.com/u/5902ab08e670" title="简书" target="_blank">简书</a></li><li style="padding-top:2px"><a href="//juejin.im/user/5a2a4b095188252ae93adbbf/posts" title="掘金" target="_blank">掘金</a></li><li style="padding-top:2px"><a href="//www.toutiao.com/c/user/69862071663/#mid=1579653107239950" title="头条" target="_blank">头条</a></li><li style="padding-top:2px"><a href="//cloud.tencent.com/developer/column/1847" title="云+" target="_blank">云+</a></li><li style="padding-top:2px"><a href="//github.com/liuyueyi" title="Github" target="_blank">Github</a></li><li style="padding-top:2px"><a href="//gitee.com/liuyueyi" title="Gitee" target="_blank">Gitee</a></li></div><div class="widget"><div class="widget-title"><i onclick="var qr = document.getElementById('qrcode'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}" style="cursor:pointer" class="fa fa-hit"> 点赞(点击展开)</i></div><ul id="qrcode" style="display:none;" class="post-list"><br/><li style="text-align:center" class="post-list-item"><a href="javascript:void(0)" target="_blank"><img src="https://s3.mogucdn.com/mlcdn/c45406/180104_50136i33id9e49j1f7k2e219e3ldf_800x798.png" alt="WeChat Pay" style="width:75%"/><br/><p style="text-align:center">微信打赏</p></a></li><li style="text-align:center" class="post-list-item"><a href="javascript:void(0)" target="_blank"><img src="https://s3.mogucdn.com/mlcdn/c45406/180104_0e6afl33b23lacj6ji2d7d060aiak_798x800.png" alt="Alipay" style="width:75%"/><br/><p style="text-align:center">支付宝打赏</p></a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="render"><script src="https://s3.mogucdn.com/mlcdn/c45406/1520387600580_dom-to-image.min.js" charset="utf-8"></script><div class="rInput"><input id="choose-id" type="text" placeholder="cid: | id: + 标签" onkeydown="if(event.keyCode==13) {doRender();}"></div><div class="rSendBtn"><a id="rImgBtn" onclick="doRender()">渲染</a></div></div><script type="text/javascript" src="/hexblog/js/render.js?v=2.0.1" async></script><div id="footer"><div class="footer-info"><p><a href="https://zbang.online/webs"><img src="//s3.mogucdn.com/mlcdn/c45406/170419_637cgff527i8k9k8h512iaf36cdia_600x600.jpg" style="max-width: 44px;border-radius:44px"></a></p><p><a href="https://github.com/liuyueyi" target="_blank">GitHub</a> |  <a href="mailto:bangzewu@126.com">email</a> |  <a href="/hexblog/about/">关于 |</a><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p></p><p><span> Copyright &copy;<a href="/hexblog/." rel="nofollow">YiHui.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?028d9e53f991d9739ecc7cc42e13c500";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/hexblog/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/hexblog/js/toctotop.js?v=2.0.1" async></script><script src="https://s3.mogucdn.com/mlcdn/c45406/1520407228303_social-share.min.js" charset="utf-8"></script><link rel="stylesheet" href="https://s3.mogucdn.com/mlcdn/c45406/1518422561591_share.min.css"><script>(function(d, s) {
  var j, e = d.getElementsByTagName('body')[0];
  if (typeof LivereTower === 'function') { return; }
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.appendChild(j);
})(document, 'script');
</script></body><script type="text/javascript" src="/hexblog/js/common.js?v=2.0.1" async></script></html>